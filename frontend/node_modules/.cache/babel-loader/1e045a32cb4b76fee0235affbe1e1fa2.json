{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gabri/Documents/projetos pessoais/nodejs/loginSystem/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/gabri/Documents/projetos pessoais/nodejs/loginSystem/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/gabri/Documents/projetos pessoais/nodejs/loginSystem/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),username=_React$useState2[0],setUsername=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),loginMsg=_React$useState6[0],setLoginMsg=_React$useState6[1];function usernameType(event){if(event.target.name==\"username\"){setUsername(event.target.value);}if(event.target.name==\"password\"){setPassword(event.target.value);}}function loginButton(){return _loginButton.apply(this,arguments);}function _loginButton(){_loginButton=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/api/login',{method:\"POST\",body:JSON.stringify({username:username,password:password}),headers:{'Content-type':'application/json'}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;console.log(data);setLoginMsg(data.msg);if(data.status==true){window.location.href=\"/main\";}case 9:case\"end\":return _context.stop();}}},_callee);}));return _loginButton.apply(this,arguments);}function registerButton(){return _registerButton.apply(this,arguments);}function _registerButton(){_registerButton=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('/api/register',{method:\"POST\",body:JSON.stringify({username:username,password:password}),headers:{'Content-type':'application/json'}});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;console.log(data);setLoginMsg(data.msg);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _registerButton.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto text-center loginForm\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Ol\\xE1 \",username,/*#__PURE__*/_jsx(\"span\",{className:\"blink\",children:\"_\"})]}),/*#__PURE__*/_jsx(\"h5\",{children:loginMsg}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:/*#__PURE__*/_jsx(\"i\",{class:\"icon fa-solid fa-user\"})})}),/*#__PURE__*/_jsx(\"input\",{onChange:usernameType,name:\"username\",type:\"text\",className:\"form-control\",placeholder:\"Usu\\xE1rio\",\"aria-label\":\"Username\",\"aria-describedby\":\"basic-addon1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:/*#__PURE__*/_jsx(\"i\",{class:\"icon fa-solid fa-key\"})})}),/*#__PURE__*/_jsx(\"input\",{onChange:usernameType,type:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Senha\",\"aria-label\":\"Username\",\"aria-describedby\":\"basic-addon1\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:registerButton,className:\"btn btn-lg btn-outline-secondary btn-block\",children:\"Registrar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:loginButton,className:\"btn btn-lg btn-outline-success btn-block\",children:\"Entrar\"})]})});}export default Login;","map":{"version":3,"names":["React","Login","useState","username","setUsername","password","setPassword","loginMsg","setLoginMsg","usernameType","event","target","name","value","loginButton","fetch","method","body","JSON","stringify","headers","response","json","data","console","log","msg","status","window","location","href","registerButton"],"sources":["C:/Users/gabri/Documents/projetos pessoais/nodejs/loginSystem/frontend/src/components/login.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nfunction Login(){\r\n\r\n    let [username, setUsername] = React.useState('')\r\n    let [password, setPassword] = React.useState('')\r\n    let [loginMsg, setLoginMsg] = React.useState('')\r\n    \r\n    function usernameType(event){\r\n        if (event.target.name == \"username\"){\r\n            setUsername(event.target.value)\r\n        }\r\n        if (event.target.name == \"password\"){\r\n            setPassword(event.target.value)\r\n        }   \r\n    }\r\n\r\n    async function loginButton(){\r\n            const response = await fetch('/api/login', {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    username: username,\r\n                    password: password\r\n                }),\r\n                headers: {\r\n                    'Content-type': 'application/json'\r\n                }\r\n            })\r\n            const data = await response.json()\r\n            console.log(data);\r\n            setLoginMsg(data.msg)\r\n            if (data.status == true){\r\n                window.location.href = \"/main\"\r\n            }\r\n    }\r\n    async function registerButton(){\r\n        const response = await fetch('/api/register', {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                username: username,\r\n                password: password\r\n            }),\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            }\r\n        })\r\n        const data = await response.json()\r\n        console.log(data);\r\n        setLoginMsg(data.msg)\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"m-auto text-center loginForm\">\r\n                <h2>Olá {username}<span className='blink'>_</span></h2>\r\n                <h5>{loginMsg}</h5>\r\n                <div className=\"input-group mb-2\">\r\n                <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\" id=\"basic-addon1\"><i class=\"icon fa-solid fa-user\"></i></span>\r\n                </div>\r\n                    <input onChange={usernameType} name=\"username\" type=\"text\" className=\"form-control\" placeholder=\"Usuário\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"/>\r\n                </div>\r\n                <div className=\"input-group mb-2\">\r\n                <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\" id=\"basic-addon1\"><i class=\"icon fa-solid fa-key\"></i></span>\r\n                </div>\r\n                    <input onChange={usernameType} type=\"password\" name=\"password\" className=\"form-control\" placeholder=\"Senha\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"/>\r\n                </div>\r\n                <button  onClick={registerButton} className=\"btn btn-lg btn-outline-secondary btn-block\">Registrar</button>\r\n                <button onClick={loginButton} className=\"btn btn-lg btn-outline-success btn-block\">Entrar</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}